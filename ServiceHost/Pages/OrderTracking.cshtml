@page
@model ServiceHost.Pages.OrderTrackingModel
@{
    ViewData["Title"] = "پیگیری وضعیت سفارش";
}

<main class="main-content">

    <!--== Start Page Header Area Wrapper ==-->
    <nav aria-label="breadcrumb" class="breadcrumb-style1">
        <div class="container">
            <ol class="breadcrumb justify-content-center">
                <li class="breadcrumb-item"><a asp-page="./Index">صفحه اصلی</a></li>
                <li class="breadcrumb-item active" aria-current="page">پیگیری وضعیت سفارش</li>
            </ol>
        </div>
    </nav>
    <!--== End Page Header Area Wrapper ==-->
    <!--== Start Product Area Wrapper ==-->
    <section class="section-space">
        <div class="container">
            @if (ViewData["Message"] != null)
            {
                <div class="alert alert-danger">
                    @ViewData["Message"]
                </div>
            }
            <div class="shopping-cart-form table-responsive">
                <table class="table text-center">
                    <thead class="bg-info">
                        <tr>
                            <th class="product-thumbnail">شماره سفارش</th>
                            <th class="product-quantity">مبلغ پرداخت شده</th> 
                            <th class="product-quantity">تاریخ ثبت سفارش</th>
                            <th class="product-quantity">کد پیگیری پرداخت</th>
                            <th class="product-quantity">کد رهگیری پستی</th>
                            <th class="product-quantity">وضعیت</th>
                            <th class="product-quantity">لغو سفارش</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="tbody-item">
                            <td class="product-name">
                                <span class="title">@Model.Order.IssueTrackingNo</span>
                            </td>
                            <td class="product-price">
                                <span class="price">@Model.Order.PayAmount ریال</span>
                            </td>
                            <td class="product-subtotal border-bottom">
                                <span class="title">@Model.Order.CreationDate</span>
                            </td>
                            <td class="product-price">
                                <span class="title">@Model.Order.RefId</span>
                            </td>
                            <td class="product-price">
                                <span class="title">@Model.Order.PostalCode</span>
                            </td>
                            <td class="product-price">
                                @if (Model.Order.IsPaid == false && Model.Order.IsCanceled == false)
                                {
                                    <span class="price text-info">در انتظار تایید</span>
                                }
                                else if (Model.Order.IsPaid == true && Model.Order.IsCanceled == true)
                                {
                                    <span class="price text-info">سفارش لغو شده</span>
                                }
                                else if (Model.Order.IsPaid == false && Model.Order.IsCanceled == true)
                                {
                                    <span class="price text-info">سفارش لغو شده</span>
                                }
                                else if (Model.Order.IsPaid == true && Model.Order.IsCanceled == false)
                                {
                                    <span class="price text-info">سفارش تایید شده و در حال بسته بندی جهت ارسال</span>
                                }
                                else if (Model.Order.PostalCode > 0)
                                {
                                    <span class="price text-info">سفارش ارسال شده</span>
                                }
                            </td>
                            <td class="product-price">
                                <span class="price">لغو سفارش</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table class="table text-center">
                    <thead class="bg-secondary">
                        <tr>
                            <th class="product-thumbnail">عکس</th>
                            <th class="product-name">محصول</th>
                            <th class="product-price">قیمت واحد</th>
                            <th class="product-quantity">تعداد</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.Order.Items)
                        {
                            <tr class="tbody-item">
                                <td class="product-thumbnail">
                                    <div class="thumb">
                                        <a href="single-product.html">
                                            <img src="~/uploads/@item.Picture" width="68" height="84" alt="">
                                        </a>
                                    </div>
                                </td>
                                <td class="product-name">
                                    <span class="title">@item.Name</span>
                                </td>
                                <td class="product-price">
                                    <span class="price">@item.UnitPrice ریال</span>
                                </td>
                                <td class="product-quantity">
                                    <span class="price">@item.Count</span>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </section>
    <!--== End Product Area Wrapper ==-->
</main>


